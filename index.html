<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CeriaPoints</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="authContainer" class="auth-wrapper">
      <div class="auth-left">
        <h1 class="logo">CeriaPoints</h1>
        <p class="subtitle">Tadika Matahari Ceria</p>

        <img
          src="placeholder-image.png"
          alt="Sustainability Graphic"
          class="login-image"
        />

        <blockquote class="auth-quote">
          "Whatever is right, do it with unwavering determination, and see it
          through to the end."
          <span class="quote-author"
            >â€” Jing Si Aphorisms by Master Cheng Yen</span
          >
        </blockquote>
      </div>

      <div class="auth-right">
        <div id="loginForm">
          <h2>Welcome Back</h2>
          <p class="form-subtext">Sign in to your CeriaPoints account.</p>

          <label>Email Address</label>
          <input type="email" id="loginEmail" placeholder="Enter your email" />

          <label>Password</label>
          <input
            type="password"
            id="loginPassword"
            placeholder="Enter your password"
          />

          <button class="action-btn" onclick="loginUser()">Sign In</button>
          <p class="error-msg" id="loginError"></p>

          <div class="auth-links">
            <p class="toggle-text" onclick="resetPassword()">
              Forgot Password?
            </p>
            <p class="toggle-text" onclick="toggleAuthView('register')">
              Need an account? Register here.
            </p>
          </div>
        </div>

        <div id="registerForm" style="display: none">
          <h2>Create Account</h2>
          <p class="form-subtext">Join our community recycling program.</p>

          <label>Full Name</label>
          <input type="text" id="regName" placeholder="e.g. Ali Bin Abu" />

          <label>Email Address</label>
          <input type="email" id="regEmail" placeholder="Enter your email" />

          <label>Password</label>
          <input
            type="password"
            id="regPassword"
            placeholder="Min 6 characters"
          />

          <button class="action-btn" onclick="registerUser()">Register</button>
          <p class="error-msg" id="regError"></p>

          <div class="auth-links">
            <p class="toggle-text" onclick="toggleAuthView('login')">
              Already have an account? Sign in.
            </p>
          </div>
        </div>
      </div>
    </div>

    <div id="appContainer" class="app-container">
      <div class="app-header">
        <h1 class="logo" style="font-size: 1.8em">CeriaPoints</h1>
        <button class="logout-btn" onclick="logoutUser()">Log Out</button>
      </div>

      <div class="nav-buttons">
        <button class="nav-btn" id="navUser" onclick="switchRole('userPage')">
          User Dashboard
        </button>
        <button
          class="nav-btn"
          id="navWeigher"
          onclick="switchRole('weigherPage')"
        >
          Weigher Terminal
        </button>
        <button class="nav-btn" id="navAdmin" onclick="switchRole('adminPage')">
          Admin Panel
        </button>
      </div>

      <hr class="divider" />

      <div id="userPage" class="page" style="display: none">
        <div class="card main-points-card">
          <p class="greeting">
            Welcome,
            <strong id="displayUserName" style="color: var(--primary-color)"
              >User</strong
            >
          </p>
          <h1 class="points-display"><span id="userPointsDisplay">0</span></h1>
          <p class="subtitle" style="margin-bottom: 0">Total GreenPoints</p>
        </div>

        <h3 class="section-title">Lifetime Real-World Impact</h3>

        <div class="impact-grid">
          <div class="card impact-card">
            <div id="treesSaved" class="impact-number">0.0</div>
            <div class="impact-label">Trees<br />Saved</div>
          </div>
          <div class="card impact-card">
            <div id="co2Saved" class="impact-number">0.0</div>
            <div class="impact-label">Kg CO2<br />Prevented</div>
          </div>
          <div class="card impact-card">
            <div id="energySaved" class="impact-number">0.0</div>
            <div class="impact-label">kWh<br />Energy Saved</div>
          </div>
        </div>

        <button
          class="action-btn outline-btn"
          onclick="alert('Reward shop coming soon!')"
        >
          Redeem Points
        </button>
      </div>

      <div id="weigherPage" class="page" style="display: none">
        <h2>Weigher Terminal</h2>
        <div class="card">
          <h3>Step 1: Find User</h3>
          <label>Enter User ID (UID):</label>
          <div class="search-row">
            <input
              type="text"
              id="usernameSearch"
              placeholder="Enter exact database ID"
            />
            <button class="action-btn search-btn" onclick="searchUser()">
              Search
            </button>
          </div>
          <p id="searchResult" class="search-result"></p>

          <hr class="divider" />

          <div id="weighingForm" style="display: none">
            <h3>Step 2: Weigh Items</h3>
            <label>Material Type:</label>
            <select id="materialSelect">
              <option value="plastic">Plastic</option>
              <option value="cardboard">Cardboard</option>
              <option value="aluminum">Aluminum</option>
            </select>

            <label>Weight (in KG):</label>
            <input type="number" id="weightInput" placeholder="e.g., 2.5" />

            <button class="action-btn" onclick="processWeighIn()">
              Award Points
            </button>
            <p id="weigherMessage" class="success-msg"></p>
          </div>
        </div>
      </div>

      <div id="adminPage" class="page" style="display: none">
        <h2>Admin Panel</h2>
        <div class="card">
          <p>Current Point Rates:</p>
          <ul class="rates-list">
            <li>Plastic: <strong>100</strong> pts/kg</li>
            <li>Cardboard: <strong>50</strong> pts/kg</li>
            <li>Aluminum: <strong>200</strong> pts/kg</li>
          </ul>
          <button
            class="action-btn outline-btn"
            onclick="alert('Settings menu coming soon!')"
          >
            Edit Rates
          </button>
        </div>
      </div>
    </div>

    <script type="module" src="script.js"></script>
  </body>
</html>
